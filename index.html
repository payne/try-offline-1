<html lang="en" manifest="/offline.appcache">
    <head>
      <meta name="viewport" content="width = device-width, initial-scale = 1">
      <link rel="stylesheet" href="css/bootstrap.min.css">
      <script src="js/jquery.min.js"></script>
      <script src="js/bootstrap.min.js"></script>
      <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
    <body>
        
        
        <a href="https://codepen.io/wizly/pen/BlKxo/">Tabs are modeled off of Weiss' example</a>
<div id="exTab1" class="container">	
<ul  class="nav nav-pills">
			<li class="active">
        <a  href="#1a" data-toggle="tab">Addition</a>
			</li>
			<li><a href="#2a" data-toggle="tab">Subtraction</a>
			</li>
			<li><a href="#3a" data-toggle="tab">Multiplication</a>
			</li>
  		<li><a href="#4a" data-toggle="tab">Division</a>
			</li>
		</ul>

			<div class="tab-content clearfix">
			  <div class="tab-pane active" id="1a">
				<div id="add"><p id="addProblem">3+4=7</p>
				<button class="btn" id="1a1">8</button>
				<button class="btn" id="1a2">7</button>
				<button class="btn" id="1a3">9</button>
				<p id="addFeedback"></p>
				<button id="addNewProblem" class="btn">New Addition Problem</button>
				</div>
			</div><!-- id=1a -->
				<div class="tab-pane" id="2a">
          <h3>We use the class nav-pills instead of nav-tabs which automatically creates a background color for the tab</h3>
				</div>
        <div class="tab-pane" id="3a">
          <h3>We applied clearfix to the tab-content to rid of the gap between the tab and the content</h3>
				</div>
          <div class="tab-pane" id="4a">
          <h3>We use css to change the background color of the content to be equal to the tab</h3>
				</div>
			</div>
  </div>
  <script>
  /* global $ */
$(document).ready(function() {
    var shuffle=function(array) {
      // from http://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array
      var currentIndex = array.length, temporaryValue, randomIndex;

      // While there remain elements to shuffle...
      while (0 !== currentIndex) {
        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }
      return array;
    };
    var newAddProblem=function() {
      $("#addFeedback").text("Click your answer");
      var a = Math.floor(Math.random() * 100);
      var b = Math.floor(Math.random() * 100);
      var delta = Math.floor(Math.random()*5)+1;
      var answer = a+b;
      var problemText = a+" + " + b +" = ???";
      $("#addProblem").text(problemText);
      console.log("Just set innerHTML to: "+problemText);
      var choices=[answer, answer+delta, answer-delta];
      choices = shuffle(choices);
      assign("#1a1",choices.pop(), answer);
      assign("#1a2",choices.pop(), answer);
      assign("#1a3",choices.pop(), answer);
    };
    $("#addNewProblem").click(newAddProblem);
    var grade=function(a,n) {
       var answer=a;
       console.log("a="+a+" n="+n);
       var feedback = a==n ? "Correct!" : "Try again!";
       $("#addFeedback").text(feedback);
    };
    var assign=function(idStr, number, answer) {
      $(idStr).text(number);
      $(idStr).click(function() { grade(answer, number); })  
    };
    newAddProblem();
});
</script>
    </body>
</html>
